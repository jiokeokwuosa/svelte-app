import{S as s,i as a,s as t,e as r,a as e,t as o,m as n,c as l,b as c,d,f,g as i,o as u,h as m,I as h,O as p,k as $,j as w,q as g,v,w as P,a7 as x,x as b,P as j,Q as y,R as E,W as C,a6 as I,n as B,y as R}from"./index.4905b719.js";import"./cookie-universal-common.86071cdf.js";import"./app.3fad8882.js";import"./api.818ad135.js";import{B as S}from"./Button.acf292d1.js";import"./index.fd4d24bb.js";import{P as k}from"./Passwordbox.5caa9663.js";import{a as A}from"./auth.f85113de.js";import{f as F,a as M}from"./pageFade.073d6706.js";function N(s){let a,t;return{c(){a=r("p"),t=o("Password Changed"),this.h()},l(s){a=l(s,"P",{class:!0});var r=c(a);t=i(r,"Password Changed"),r.forEach(d),this.h()},h(){m(a,"class","mb-2 p-2 text-xs bg-yellow-400 rounded")},m(s,r){$(s,a,r),w(a,t)},p:B,d(s){s&&d(a)}}}function O(s){let a,t;return{c(){a=r("p"),t=o(s[2]),this.h()},l(r){a=l(r,"P",{class:!0});var e=c(a);t=i(e,s[2]),e.forEach(d),this.h()},h(){m(a,"class","mb-2 p-2 text-xs primary rounded")},m(s,r){$(s,a,r),w(a,t)},p(s,a){4&a[0]&&R(t,s[2])},d(s){s&&d(a)}}}function q(s){let a;return{c(){a=o("Save")},l(s){a=i(s,"Save")},m(s,t){$(s,a,t)},d(s){s&&d(a)}}}function z(s){let a,t,B,R,A,z,D,H,Q,V,W,G,J,K,L,T,U,X,Y,Z;function _(s,a){return s[2]?O:s[1]?N:void 0}let ss=_(s),as=ss&&ss(s);function ts(a){s[4].call(null,a)}let rs={label:"Current Password"};void 0!==s[0].oldPassword&&(rs.value=s[0].oldPassword);const es=new k({props:rs});function os(a){s[5].call(null,a)}j.push(()=>y(es,"value",ts));let ns={label:"New Password"};void 0!==s[0].newPassword&&(ns.value=s[0].newPassword);const ls=new k({props:ns});j.push(()=>y(ls,"value",os));const cs=new S({props:{type:"submit",full:!0,rounded:!0,size:"xl",color:"primary",$$slots:{default:[q]},$$scope:{ctx:s}}});return{c(){a=r("main"),t=r("div"),B=r("a"),R=r("i"),A=e(),z=r("h1"),D=o("Change Password"),H=e(),as&&as.c(),Q=e(),V=r("form"),n(es.$$.fragment),G=e(),n(ls.$$.fragment),K=e(),L=r("br"),T=e(),n(cs.$$.fragment),this.h()},l(s){a=l(s,"MAIN",{class:!0});var r=c(a);t=l(r,"DIV",{class:!0});var e=c(t);B=l(e,"A",{href:!0});var o=c(B);R=l(o,"I",{class:!0}),c(R).forEach(d),o.forEach(d),A=f(e),z=l(e,"H1",{class:!0});var n=c(z);D=i(n,"Change Password"),n.forEach(d),e.forEach(d),H=f(r),as&&as.l(r),Q=f(r),V=l(r,"FORM",{class:!0});var m=c(V);u(es.$$.fragment,m),G=f(m),u(ls.$$.fragment,m),K=f(m),L=l(m,"BR",{}),T=f(m),u(cs.$$.fragment,m),m.forEach(d),r.forEach(d),this.h()},h(){m(R,"class","fa fa-arrow-left"),m(B,"href","/my"),m(z,"class","text-2xl font-bold p-6 text-center"),m(t,"class","flex justify-between items-center my-4"),m(V,"class","text-center bg-white"),m(a,"class","m-auto w-full lg:w-1/2"),Z=h(V,"submit",p(s[3]))},m(s,r){$(s,a,r),w(a,t),w(t,B),w(B,R),w(t,A),w(t,z),w(z,D),w(a,H),as&&as.m(a,null),w(a,Q),w(a,V),g(es,V,null),w(V,G),g(ls,V,null),w(V,K),w(V,L),w(V,T),g(cs,V,null),Y=!0},p(s,t){ss===(ss=_(s))&&as?as.p(s,t):(as&&as.d(1),(as=ss&&ss(s))&&(as.c(),as.m(a,Q)));const r={};!W&&1&t[0]&&(W=!0,r.value=s[0].oldPassword,E(()=>W=!1)),es.$set(r);const e={};!J&&1&t[0]&&(J=!0,e.value=s[0].newPassword,E(()=>J=!1)),ls.$set(e);const o={};64&t[0]&&(o.$$scope={dirty:t,ctx:s}),cs.$set(o)},i(s){Y||(v(es.$$.fragment,s),v(ls.$$.fragment,s),v(cs.$$.fragment,s),C(()=>{X&&X.end(1),U||(U=I(a,M,{})),U.start()}),Y=!0)},o(s){P(es.$$.fragment,s),P(ls.$$.fragment,s),P(cs.$$.fragment,s),U&&U.invalidate(),X=x(a,F,{}),Y=!1},d(s){s&&d(a),as&&as.d(),b(es),b(ls),b(cs),s&&X&&X.end(),Z()}}}function D(s,a,t){let r={},e=!1,o=null;return[r,e,o,async function(){try{t(0,r=await A.changePassword(r)),t(1,e=!0)}catch(s){t(2,o=s)}},function(s){r.oldPassword=s,t(0,r)},function(s){r.newPassword=s,t(0,r)}]}export default class extends s{constructor(s){super(),a(this,s,D,z,t,{})}}
