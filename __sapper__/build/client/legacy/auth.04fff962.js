import{w as e}from"./app.a7ca9b52.js";import{C as r,_ as t}from"./cookie-universal-common.9fbb4a0b.js";import{g as n,p as a,a as s}from"./api.c40174e7.js";var c=r();var u,o,p,i=(u=e({}),o=u.subscribe,p=u.set,{subscribe:o,me:function(){var e;return t.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.awrap(n("users/me",null,c.get("token")));case 3:return(e=r.sent).token=c.get("token"),p(e),r.abrupt("return",e);case 9:throw r.prev=9,r.t0=r.catch(0),p({}),r.t0;case 13:case"end":return r.stop()}},null,null,[[0,9]])},login:function(e){var r,n,s;return t.async(function(u){for(;;)switch(u.prev=u.next){case 0:return r=e.phone,n=e.password,u.prev=1,u.next=4,t.awrap(a("auth/local",{phone:r,password:n}));case 4:return s=u.sent,p(s),c.set("token",s.token),u.abrupt("return",s);case 10:throw u.prev=10,u.t0=u.catch(1),c.remove("token"),p({}),u.t0;case 15:case"end":return u.stop()}},null,null,[[1,10]])},verification:function(e){var r;return t.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.awrap(a("/api/signup/verification",e));case 3:return r=n.sent,p(r),c.set("token",r.token),n.abrupt("return",r);case 9:throw n.prev=9,n.t0=n.catch(0),p({}),n.t0;case 13:case"end":return n.stop()}},null,null,[[0,9]])},signup:function(e){var r;return t.async(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.abrupt("return");case 5:return r=t.sent,p(r),t.abrupt("return",r);case 10:throw t.prev=10,t.t0=t.catch(2),p({}),t.t0;case 14:case"end":return t.stop()}},null,null,[[2,10]])},logout:function(){return t.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c.remove("token"),p({}),e.abrupt("return",response);case 6:throw e.prev=6,e.t0=e.catch(0),p({}),e.t0;case 10:case"end":return e.stop()}},null,null,[[0,6]])},forgotPassword:function(e){return t.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.awrap(a("/users/forgot",e));case 3:return r.abrupt("return",r.sent);case 6:throw r.prev=6,r.t0=r.catch(0),r.t0;case 9:case"end":return r.stop()}},null,null,[[0,6]])},changePassword:function(e){var r;return t.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.awrap(s("/users/password",e));case 3:return r=n.sent,n.abrupt("return",r);case 7:throw n.prev=7,n.t0=n.catch(0),n.t0;case 10:case"end":return n.stop()}},null,null,[[0,7]])},resetPassword:function(e){var r;return t.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.awrap(a("/users/reset/"+e.id,e));case 3:return(r=n.sent)&&console.log("info",r,{root:!0}),n.abrupt("return",r);case 8:throw n.prev=8,n.t0=n.catch(0),n.t0;case 11:case"end":return n.stop()}},null,null,[[0,8]])},updateProfile:function(e){var r,n,a,c,u,o,i,l,v,f,w;return t.async(function(h){for(;;)switch(h.prev=h.next){case 0:return r=e.firstName,n=e.lastName,a=e.state,c=e.city,u=e.zip,o=e.avatar,i=e.gender,l=e.dob,v=e.language,f=e.address,h.prev=1,h.next=4,t.awrap(s("/users/profile",{firstName:r,lastName:n,state:a,city:c,zip:u,avatar:o,gender:i,dob:l,language:v,address:f}));case 4:return w=h.sent,p(w),h.abrupt("return",w);case 9:throw h.prev=9,h.t0=h.catch(1),h.t0;case 12:case"end":return h.stop()}},null,null,[[1,9]])}});export{i as a};
