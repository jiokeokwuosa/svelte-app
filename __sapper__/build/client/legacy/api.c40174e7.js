import{C as t,_ as e,a}from"./cookie-universal-common.9fbb4a0b.js";var n=t();n.get("token");function r(t){var r,o,c,s,p,i,u,h,d,k;return e.async(function(f){for(;;)switch(f.prev=f.next){case 0:return r=t.method,o=t.path,c=t.data,s=t.token,p=t.cookie,i=window.fetch,u={method:r,headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json",cookie:p},mode:"no-cors"},c&&(u.body=JSON.stringify(c)),h=n.get("token"),s?u.headers.Authorization="Bearer ".concat(s):h&&(u.headers.Authorization="Bearer ".concat(h)),f.prev=6,f.next=9,e.awrap(i("".concat(a,"/api/").concat(o),u));case 9:return d=f.sent,f.next=12,e.awrap(d.text());case 12:if(k=f.sent,d.ok){f.next=15;break}throw k;case 15:return f.prev=15,f.abrupt("return",JSON.parse(k));case 19:return f.prev=19,f.t0=f.catch(15),f.abrupt("return",k);case 22:f.next=27;break;case 24:throw f.prev=24,f.t1=f.catch(6),f.t1;case 27:case"end":return f.stop()}},null,null,[[6,24],[15,19]])}function o(t,e,a,n){return r({method:"GET",path:t,params:e,token:a,cookie:n})}function c(t,e,a){return r({method:"POST",path:t,data:e,token:a})}function s(t,e,a){return r({method:"PUT",path:t,data:e,token:a})}export{s as a,o as g,c as p};
