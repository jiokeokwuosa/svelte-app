import{C as t}from"./cookie-universal-common.86071cdf.js";import{w as o}from"./app.3fad8882.js";import{g as a,p as s}from"./api.818ad135.js";t();const r=function(){const{subscribe:t,set:e}=o({items:[],qty:0,subtotal:0,discount:0,total:0,offer_total:0,showCart:!1,promo:null});return{subscribe:t,fetch:async()=>{try{const t=await a("cart",null);return e(t),t}catch(t){}},add:async t=>{try{const o=await s("cart/addE",t);return e(o),o}catch(t){throw t}},setPromo:t=>{e({promo:t.details,total:t.amount})},showCart:()=>showCart,setCart:t=>{e({items:t.items||[],qty:t.qty,discount:t.discount||0,subtotal:t.subtotal,total:t.total,offer_total:t.offer_total})},toggleCart:t=>{showCart=t},checkout:async({paymentMethod:t,address:o})=>{try{let a=await s("orders",{address:o,paymentMethod:t||"COD"});const c=await r.fetch();return e(c),a}catch(t){throw t}}}}();export{r as c};
