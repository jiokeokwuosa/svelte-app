'use strict';

var index = require('./index-7460d1f3.js');
require('./index-4169654c.js');
var app$1 = require('./app-19cb53d9.js');
require('./auth-c7f15797.js');
var cart = require('./cart-d14f702b.js');

/* src\components\Search.svelte generated by Svelte v3.16.4 */

const Search = index.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	const { session, page } = app$1.stores$1();
	const dispatch = index.createEventDispatcher();
	let { home = false } = $$props;
	let query;
	let searchInput;

	index.onMount(() => {
		if (!home && query.q) setTimeout(() => searchInput.focus(), 0);
	});

	page.subscribe(page => {
		query = page.query;
	});

	if ($$props.home === void 0 && $$bindings.home && home !== void 0) $$bindings.home(home);

	return `<form novalidate autocomplete="${"off"}">
  <div class="${"absolute"}">
    <i class="${"fa fa-search m-3 text-gray-500"}" aria-hidden="${"true"}"></i>
  </div>
  <input aria-label="${"Search Box"}" type="${"text"}" class="${"w-full px-10 bg-purple-white pr-4 border border-gray-200 rounded-full\r\n    border-0 h-10 focus:outline-none text-xs shadow"}" placeholder="${"Search for products,brands and more"}" name="${"search"}"${index.add_attribute("this", searchInput, 1)}${index.add_attribute("value", query.q, 1)}>
</form>`;
});

/* src\components\ui\Loader.svelte generated by Svelte v3.16.4 */

const css = {
	code: ".loader.svelte-lyx18k{border:5px solid #f3f3f3;border-radius:50%;border-top:5px solid #555;width:30px;height:30px;-webkit-animation:svelte-lyx18k-spin 1.2s linear infinite;animation:svelte-lyx18k-spin 1.2s linear infinite}@-webkit-keyframes svelte-lyx18k-spin{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}@keyframes svelte-lyx18k-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}",
	map: "{\"version\":3,\"file\":\"Loader.svelte\",\"sources\":[\"Loader.svelte\"],\"sourcesContent\":[\"<style>\\r\\n  .loader {\\r\\n    border: 5px solid #f3f3f3;\\r\\n    border-radius: 50%;\\r\\n    border-top: 5px solid #555;\\r\\n    width: 30px;\\r\\n    height: 30px;\\r\\n    -webkit-animation: spin 1.2s linear infinite; /* Safari */\\r\\n    animation: spin 1.2s linear infinite;\\r\\n  }\\r\\n\\r\\n  /* Safari */\\r\\n  @-webkit-keyframes spin {\\r\\n    0% {\\r\\n      -webkit-transform: rotate(0deg);\\r\\n    }\\r\\n    100% {\\r\\n      -webkit-transform: rotate(360deg);\\r\\n    }\\r\\n  }\\r\\n\\r\\n  @keyframes spin {\\r\\n    0% {\\r\\n      transform: rotate(0deg);\\r\\n    }\\r\\n    100% {\\r\\n      transform: rotate(360deg);\\r\\n    }\\r\\n  }\\r\\n</style>\\r\\n\\r\\n<div class=\\\"relative z-50\\\">\\r\\n  <div class=\\\"pin flex justify-center items-end\\\">\\r\\n    <div\\r\\n      class=\\\"loading border rounded text-center w- flex items-center px-4 py-2\\r\\n      shadow-lg\\\">\\r\\n      <div class=\\\"flex justify-center items-center\\\">\\r\\n        <div class=\\\"loader mr-2\\\" />\\r\\n        Loading...\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"fixed top-0 z-1 bg-gray-300 opacity-75 w-full h-full overflow-auto\\\" />\\r\\n\"],\"names\":[],\"mappings\":\"AACE,OAAO,cAAC,CAAC,AACP,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CACzB,aAAa,CAAE,GAAG,CAClB,UAAU,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,CAC1B,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,iBAAiB,CAAE,kBAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAC5C,SAAS,CAAE,kBAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,AACtC,CAAC,AAGD,mBAAmB,kBAAK,CAAC,AACvB,EAAE,AAAC,CAAC,AACF,iBAAiB,CAAE,OAAO,IAAI,CAAC,AACjC,CAAC,AACD,IAAI,AAAC,CAAC,AACJ,iBAAiB,CAAE,OAAO,MAAM,CAAC,AACnC,CAAC,AACH,CAAC,AAED,WAAW,kBAAK,CAAC,AACf,EAAE,AAAC,CAAC,AACF,SAAS,CAAE,OAAO,IAAI,CAAC,AACzB,CAAC,AACD,IAAI,AAAC,CAAC,AACJ,SAAS,CAAE,OAAO,MAAM,CAAC,AAC3B,CAAC,AACH,CAAC\"}"
};

const Loader = index.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	$$result.css.add(css);

	return `<div class="${"relative z-50"}">
  <div class="${"pin flex justify-center items-end"}">
    <div class="${"loading border rounded text-center w- flex items-center px-4 py-2\r\n      shadow-lg"}">
      <div class="${"flex justify-center items-center"}">
        <div class="${"loader mr-2 svelte-lyx18k"}"></div>
        Loading...
      </div>
    </div>
  </div>
</div>

<div class="${"fixed top-0 z-1 bg-gray-300 opacity-75 w-full h-full overflow-auto"}"></div>`;
});

/* src\components\Header.svelte generated by Svelte v3.16.4 */

const css$1 = {
	code: ".desktop-badge.svelte-1484793{font-size:8px;left:11px;top:-6px;height:15px;width:14px;border-radius:50%;display:inline-block}.desktop-badge.svelte-1484793 .number.svelte-1484793{margin-top:1.5px;margin-left:-1px}",
	map: "{\"version\":3,\"file\":\"Header.svelte\",\"sources\":[\"Header.svelte\"],\"sourcesContent\":[\"<script>\\r\\n  import Search from \\\"./Search.svelte\\\";\\r\\n  import Loader from \\\"./ui/Loader.svelte\\\";\\r\\n  import { stores, goto } from \\\"@sapper/app\\\";\\r\\n  const { preloading, session } = stores();\\r\\n  import { auth } from \\\"./../store/auth.js\\\";\\r\\n  import { cart } from \\\"./../store/cart.js\\\";\\r\\n  import { createEventDispatcher } from \\\"svelte\\\";\\r\\n  const dispatch = createEventDispatcher();\\r\\n  export let home = false,\\r\\n    mysearch = false,\\r\\n    loading = false,\\r\\n    segment;\\r\\n\\r\\n  preloading.subscribe(_ => {\\r\\n    // if (_ == true)\\r\\n    //   setTimeout(function() {\\r\\n    //     loading = _;\\r\\n    //   }, 250);\\r\\n    \\r\\n    loading = _;\\r\\n  });\\r\\n\\r\\n  function logout() {\\r\\n    $session.user = {};\\r\\n    $session.token = undefined;\\r\\n    auth.logout();\\r\\n  }\\r\\n\\r\\n  function closeSidebar() {\\r\\n    this.sidebar = false;\\r\\n  }\\r\\n\\r\\n  function search(q) {\\r\\n    dispatch(\\\"search\\\", q.detail);\\r\\n  }\\r\\n</script>\\r\\n\\r\\n<style>\\r\\n  .desktop-badge {\\r\\n    font-size: 8px;\\r\\n    left: 11px;\\r\\n    top: -6px;\\r\\n    height: 15px;\\r\\n    width: 14px;\\r\\n    border-radius: 50%;\\r\\n    display: inline-block;\\r\\n  }\\r\\n  .desktop-badge .number {\\r\\n    margin-top: 1.5px;\\r\\n    margin-left: -1px;\\r\\n  }\\r\\n</style>\\r\\n\\r\\n<header>\\r\\n  <nav class=\\\"flex items-center justify-between m-4 text-gray-700\\\">\\r\\n    <a href=\\\"/\\\" rel=\\\"prefetch\\\" aria-label=\\\"logo\\\" class=\\\"mx-4\\\">\\r\\n      <img class=\\\"w-6 h-6\\\" src={'/favicon.png'} alt=\\\"logo\\\" />\\r\\n    </a>\\r\\n    <div class=\\\"mx-2 border-gray-300 relative\\\" style=\\\"flex:1\\\">\\r\\n      <Search on:search={search} {home} />\\r\\n    </div>\\r\\n    {#if $session.token && $session.token != ''}\\r\\n      <a href=\\\"/my/orders\\\" class=\\\"mx-4 flex items-center\\\" aria-label=\\\"Account\\\">\\r\\n        <i class=\\\"fa fa-user mr-2\\\" />\\r\\n        <span class=\\\"hidden lg:block\\\">Account</span>\\r\\n      </a>\\r\\n    {:else}\\r\\n      <a href=\\\"/login\\\" class=\\\"mx-4 flex items-center\\\" aria-label=\\\"Login\\\">\\r\\n        <i class=\\\"fa fa-user mr-2\\\" />\\r\\n        <span class=\\\"hidden lg:block\\\">Login</span>\\r\\n      </a>\\r\\n    {/if}\\r\\n    <a href=\\\"/cart\\\" class=\\\"mr-4 flex items-center relative\\\">\\r\\n      <i class=\\\"fa fa-shopping-cart mr-2\\\" />\\r\\n      <span class=\\\"hidden lg:block\\\">Cart</span>\\r\\n      <div\\r\\n        class=\\\"primary font-bold desktop-badge rounded-full px-1 absolute\\r\\n        text-center\\\">\\r\\n        <div class=\\\"number\\\">{$cart.qty}</div>\\r\\n      </div>\\r\\n    </a>\\r\\n  </nav>\\r\\n  {#if loading}\\r\\n    <Loader />\\r\\n  {/if}\\r\\n</header>\\r\\n\"],\"names\":[],\"mappings\":\"AAuCE,cAAc,eAAC,CAAC,AACd,SAAS,CAAE,GAAG,CACd,IAAI,CAAE,IAAI,CACV,GAAG,CAAE,IAAI,CACT,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,IAAI,CACX,aAAa,CAAE,GAAG,CAClB,OAAO,CAAE,YAAY,AACvB,CAAC,AACD,6BAAc,CAAC,OAAO,eAAC,CAAC,AACtB,UAAU,CAAE,KAAK,CACjB,WAAW,CAAE,IAAI,AACnB,CAAC\"}"
};

const Header = index.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	let $session;
	let $cart = index.get_store_value(cart.cart);
	const { preloading, session } = app$1.stores$1();
	$session = index.get_store_value(session);
	const dispatch = index.createEventDispatcher();

	let { home = false } = $$props,
		{ mysearch = false } = $$props,
		{ loading = false } = $$props,
		{ segment } = $$props;

	preloading.subscribe(_ => {
		loading = _;
	});

	if ($$props.home === void 0 && $$bindings.home && home !== void 0) $$bindings.home(home);
	if ($$props.mysearch === void 0 && $$bindings.mysearch && mysearch !== void 0) $$bindings.mysearch(mysearch);
	if ($$props.loading === void 0 && $$bindings.loading && loading !== void 0) $$bindings.loading(loading);
	if ($$props.segment === void 0 && $$bindings.segment && segment !== void 0) $$bindings.segment(segment);
	$$result.css.add(css$1);
	$session = index.get_store_value(session);

	return `<header>
  <nav class="${"flex items-center justify-between m-4 text-gray-700"}">
    <a href="${"/"}" rel="${"prefetch"}" aria-label="${"logo"}" class="${"mx-4"}">
      <img class="${"w-6 h-6"}"${index.add_attribute("src", "/favicon.png", 0)} alt="${"logo"}">
    </a>
    <div class="${"mx-2 border-gray-300 relative"}" style="${"flex:1"}">
      ${index.validate_component(Search, "Search").$$render($$result, { home }, {}, {})}
    </div>
    ${$session.token && $session.token != ""
	? `<a href="${"/my/orders"}" class="${"mx-4 flex items-center"}" aria-label="${"Account"}">
        <i class="${"fa fa-user mr-2"}"></i>
        <span class="${"hidden lg:block"}">Account</span>
      </a>`
	: `<a href="${"/login"}" class="${"mx-4 flex items-center"}" aria-label="${"Login"}">
        <i class="${"fa fa-user mr-2"}"></i>
        <span class="${"hidden lg:block"}">Login</span>
      </a>`}
    <a href="${"/cart"}" class="${"mr-4 flex items-center relative"}">
      <i class="${"fa fa-shopping-cart mr-2"}"></i>
      <span class="${"hidden lg:block"}">Cart</span>
      <div class="${"primary font-bold desktop-badge rounded-full px-1 absolute\r\n        text-center svelte-1484793"}">
        <div class="${"number svelte-1484793"}">${index.escape($cart.qty)}</div>
      </div>
    </a>
  </nav>
  ${loading
	? `${index.validate_component(Loader, "Loader").$$render($$result, {}, {}, {})}`
	: ``}
</header>`;
});

exports.Header = Header;
